Version 4
SHEET 1 1588 1092
WIRE -64 80 -224 80
WIRE 160 80 16 80
WIRE 272 80 160 80
WIRE 848 80 496 80
WIRE -224 112 -224 80
WIRE 272 112 272 80
WIRE 496 112 496 80
WIRE 848 112 848 80
WIRE -640 144 -656 144
WIRE -512 144 -560 144
WIRE -48 160 -64 160
WIRE 80 160 32 160
WIRE 192 160 80 160
WIRE 368 160 288 160
WIRE 656 160 592 160
WIRE 768 160 656 160
WIRE 960 160 864 160
WIRE 1120 160 1040 160
WIRE -656 176 -656 144
WIRE -512 192 -512 144
WIRE -64 192 -64 160
WIRE 160 192 160 80
WIRE 656 192 656 160
WIRE 80 208 80 160
WIRE 368 208 368 160
WIRE 592 208 592 160
WIRE 1120 208 1120 160
WIRE -656 288 -656 256
WIRE -576 288 -656 288
WIRE -512 288 -512 256
WIRE -512 288 -576 288
WIRE -224 304 -224 192
WIRE -128 304 -224 304
WIRE -64 304 -64 272
WIRE -64 304 -128 304
WIRE 80 304 80 272
WIRE 80 304 -64 304
WIRE 160 304 160 256
WIRE 160 304 80 304
WIRE 368 304 368 288
WIRE 368 304 160 304
WIRE 496 304 496 192
WIRE 592 304 592 272
WIRE 592 304 496 304
WIRE 656 304 656 272
WIRE 656 304 592 304
WIRE 1120 304 1120 288
WIRE 1120 304 656 304
WIRE -576 320 -576 288
WIRE -128 336 -128 304
WIRE 592 336 592 304
WIRE 272 480 -80 480
WIRE 848 480 496 480
WIRE -80 512 -80 480
WIRE 272 512 272 480
WIRE 496 512 496 480
WIRE 848 512 848 480
WIRE 96 560 80 560
WIRE 192 560 176 560
WIRE 368 560 288 560
WIRE 768 560 656 560
WIRE 928 560 864 560
WIRE 1104 560 1008 560
WIRE 80 592 80 560
WIRE 656 592 656 560
WIRE 368 608 368 560
WIRE 1104 608 1104 560
WIRE -80 704 -80 592
WIRE 16 704 -80 704
WIRE 80 704 80 672
WIRE 80 704 16 704
WIRE 368 704 368 688
WIRE 368 704 80 704
WIRE 496 704 496 592
WIRE 592 704 496 704
WIRE 656 704 656 672
WIRE 656 704 592 704
WIRE 1104 704 1104 688
WIRE 1104 704 656 704
WIRE 16 736 16 704
WIRE 592 736 592 704
WIRE 272 816 -80 816
WIRE 848 816 496 816
WIRE -80 848 -80 816
WIRE 272 848 272 816
WIRE 496 848 496 816
WIRE 848 848 848 816
WIRE 96 896 80 896
WIRE 192 896 176 896
WIRE 368 896 288 896
WIRE 768 896 656 896
WIRE 928 896 864 896
WIRE 1104 896 1008 896
WIRE 80 928 80 896
WIRE 656 928 656 896
WIRE 368 944 368 896
WIRE 1104 944 1104 896
WIRE -80 1040 -80 928
WIRE 16 1040 -80 1040
WIRE 80 1040 80 1008
WIRE 80 1040 16 1040
WIRE 368 1040 368 1024
WIRE 368 1040 80 1040
WIRE 496 1040 496 928
WIRE 592 1040 496 1040
WIRE 656 1040 656 1008
WIRE 656 1040 592 1040
WIRE 1104 1040 1104 1024
WIRE 1104 1040 656 1040
WIRE 16 1072 16 1040
WIRE 592 1072 592 1040
FLAG -128 336 0
FLAG 592 336 0
FLAG 16 736 0
FLAG 592 736 0
FLAG 16 1072 0
FLAG 592 1072 0
FLAG -576 320 0
SYMBOL voltage -64 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 38 57 Left 2
WINDOW 3 -20 148 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 0 1n 1n 100n 200n 20)
SYMBOL voltage -224 96 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 352 192 R0
SYMATTR InstName R1
SYMATTR Value 1Mega
SYMBOL res 48 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL nmos 192 112 M90
SYMATTR InstName M1
SYMATTR Value RK7002BM
SYMBOL voltage 1120 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 3.3 0 1n 1n 100n 200n 20)
SYMBOL voltage 496 96 R0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res 640 176 R0
SYMATTR InstName R3
SYMATTR Value 1Mega
SYMBOL res 1056 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL voltage 80 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 42 58 Left 2
WINDOW 3 8 151 Left 2
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 1n 1n 1n 1000 1000 1000)
SYMBOL voltage -80 496 R0
SYMATTR InstName V6
SYMATTR Value 5
SYMBOL res 352 592 R0
SYMATTR InstName R5
SYMATTR Value 1Mega
SYMBOL res 192 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL voltage 496 496 R0
SYMATTR InstName V8
SYMATTR Value 5
SYMBOL res 640 576 R0
SYMATTR InstName R7
SYMATTR Value 1Mega
SYMBOL res 1024 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL voltage 1104 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 3.3 1n 1n 1n 1000 1000 1000)
SYMBOL voltage 80 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 37 60 Left 2
WINDOW 3 11 156 Left 2
SYMATTR InstName V9
SYMATTR Value PULSE(5 0 1n 1n 1n 1000 1000 1000)
SYMBOL voltage -80 832 R0
SYMATTR InstName V10
SYMATTR Value 5
SYMBOL res 352 928 R0
SYMATTR InstName R10
SYMATTR Value 1Mega
SYMBOL res 192 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL voltage 496 832 R0
SYMATTR InstName V11
SYMATTR Value 5
SYMBOL res 640 912 R0
SYMATTR InstName R12
SYMATTR Value 1Mega
SYMBOL res 1024 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL voltage 1104 928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V12
SYMATTR Value PULSE(3.3 0 1n 1n 1n 1000 1000 1000)
SYMBOL cap 576 208 R0
SYMATTR InstName C1
SYMATTR Value 15p
SYMBOL cap 64 208 R0
SYMATTR InstName C2
SYMATTR Value 20p
SYMBOL res 32 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL cap 144 192 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL nmos 768 112 M90
SYMATTR InstName M2
SYMATTR Value RK7002BM
SYMBOL nmos 768 512 M90
SYMATTR InstName M3
SYMATTR Value RK7002BM
SYMBOL nmos 192 512 M90
SYMATTR InstName M4
SYMATTR Value RK7002BM
SYMBOL nmos 192 848 M90
SYMATTR InstName M5
SYMATTR Value RK7002BM
SYMBOL nmos 768 848 M90
SYMATTR InstName M6
SYMATTR Value RK7002BM
SYMBOL voltage -656 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 38 57 Left 2
WINDOW 3 -20 148 Left 2
SYMATTR InstName V13
SYMATTR Value PULSE(0 5 0 1n 1n 100n 200n 20)
SYMBOL res -544 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100
SYMBOL cap -528 192 R0
SYMATTR InstName C4
SYMATTR Value 50p
TEXT -256 360 Left 2 !.tran 1000n
TEXT -88 416 Left 2 ;Lots of good data of logic signals: https://www.ti.com/lit/an/sdya009c/sdya009c.pdf?ts=1687728163429
TEXT -792 472 Left 2 ;The problem seems to be that the MOSFET presents \na really high input capacitance\nthus, slowing the signal down quite a bit.\n \nIf this ciruit was inserted into a large fan-out\nnet, things would get ugly pretty quickly.\n \nAs it stands now, we add abour 5ns of\nrise/fall to a 50pF reference load. That is\nhigh, but probably acceptable.
TEXT -640 360 Left 2 ;11ns rise/fall
TEXT -224 0 Left 2 ;20pF external load gets us to 11ns rise/fall\nThis means ~30pF load from the circuit.
TEXT 496 0 Left 2 ;15pF external load gets us to ~11ns rise/fall\nThis means ~35pF load from the circuit.
